{% load static %}
<div class="user-list">
  <div class="search-bar">
    <input type="text" placeholder="Search" name="search" id="user-search" />
  </div>

  {# Students #}
  {% if students %}
    {% for student in students %}
      <a href="{% url 'teachers_chatting_url' username=student.user.username %}">
        <div class="user {{ student.user.username }} student">
          <div class="profile-info">
            <div class="avatar">
              {% for online_status in online_statuses %}
                {% if online_status.user == student and online_status.online_status %}
                  <div class="online"></div>
                {% else %}
                  <div class="online" style="display: none;"></div>
                {% endif %}
              {% endfor %}
              <img src="{{ student.user_pic.url }}" width="150" />
            </div>
            <div class="avatar-disc">
              <h3>{{ student.user.first_name }} {{ student.user.middle_name }}</h3>
              {% if student.last_message %}
                <h4>{{ student.last_message.message }}</h4>
              {% else %}
                <h4>No message</h4>
              {% endif %}
            </div>
          </div>
          <div class="extra-info">
            <p>{{ student.data.last_seen }}</p>
            <i class="fas fa-thumbtack"></i>
          </div>
        </div>
      </a>
    {% endfor %}
  {% else %}
    <p class="student user">No students available.</p>
  {% endif %}

  {# Admins #}
  {% if admins %}
    {% for admin in admins %}
      <a href="{% url 'teachers_chatting_url' username=admin.user.username %}">
        <div class="user {{ admin.user.username }} admin">
          <div class="profile-info">
            <div class="avatar">
              {% for online_status in online_statuses %}
                {% if online_status.user == admin and online_status.online_status %}
                  <div class="online"></div>
                {% else %}
                  <div class="online" style="display: none;"></div>
                {% endif %}
              {% endfor %}
              <img src="{{ admin.user_pic.url }}" width="150" />
            </div>
            <div class="avatar-disc">
              <h3>{{ admin.user.first_name }} {{ admin.user.middle_name }}</h3>
              {% if admin.last_message %}
                <h4>{{ admin.last_message.message }}</h4>
              {% else %}
                <h4>No message</h4>
              {% endif %}
            </div>
          </div>
          <div class="extra-info">
            <p>{{ admin.data.last_seen }}</p>
            <i class="fas fa-thumbtack"></i>
          </div>
        </div>
      </a>
    {% endfor %}
  {% else %}
    <p>No admins available.</p>
  {% endif %}

  {# Teachers #}
  {% if teachers %}
    {% for teacher in teachers %}
      <a href="{% url 'teachers_chatting_url' username=teacher.user.username %}">
        <div class="user {{ teacher.user.username }} teacher">
          <div class="profile-info">
            <div class="avatar">
              {% for online_status in online_statuses %}
                {% if online_status.user == teacher and online_status.online_status %}
                  <div class="online"></div>
                {% else %}
                  <div class="online" style="display: none;"></div>
                {% endif %}
              {% endfor %}
              <img src="{{ teacher.user_pic.url }}" width="150" />
            </div>
            <div class="avatar-disc">
              <h3>{{ teacher.user.first_name }} {{ teacher.user.middle_name }}</h3>
              {% if teacher.last_message %}
                <h4>{{ teacher.last_message.message }}</h4>
              {% else %}
                <h4>No message</h4>
              {% endif %}
            </div>
          </div>
          <div class="extra-info">
            <p>{{ teacher.data.last_seen }}</p>
            <i class="fas fa-thumbtack"></i>
          </div>
        </div>
      </a>
    {% endfor %}
  {% else %}
    <p>No teachers available.</p>
  {% endif %}
</div>
